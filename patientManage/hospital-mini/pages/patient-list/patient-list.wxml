<view class="container">
  <!-- æœç´¢å’Œç­›é€‰ -->
  <view class="search-section">
    <view class="search-box">
      <text class="iconfont icon-search"></text>
      <input class="search-input" placeholder="æœç´¢ç—…äººå§“åã€æˆ¿é—´å·" bindinput="onSearchInput" />
    </view>
    
    <view class="filter-tabs">
      <view class="filter-tab {{currentFilter === 'all' ? 'active' : ''}}" bindtap="onFilterChange" data-filter="all">
        å…¨éƒ¨ ({{patients.length}})
      </view>
      <view class="filter-tab {{currentFilter === 'hospitalized' ? 'active' : ''}}" bindtap="onFilterChange" data-filter="hospitalized">
        åœ¨é™¢ ({{hospitalizedCount}})
      </view>
      <view class="filter-tab {{currentFilter === 'discharged' ? 'active' : ''}}" bindtap="onFilterChange" data-filter="discharged">
        å‡ºé™¢ ({{dischargedCount}})
      </view>
    </view>
  </view>

  <!-- ç—…äººåˆ—è¡¨ -->
  <view class="patient-list">
    <view class="patient-item" wx:for="{{filteredPatients}}" wx:key="id" bindtap="onPatientTap" data-id="{{item.id}}">
      <view class="patient-avatar">
        <text class="avatar-text">{{item.name[0]}}</text>
      </view>
      
      <view class="patient-info">
        <view class="patient-header">
          <text class="patient-name">{{item.name}}</text>
          <view class="patient-status tag-{{item.status === 'ä½é™¢ä¸­' ? 'primary' : 'success'}}">
            {{item.status}}
          </view>
        </view>
        
        <view class="patient-details">
          <text class="detail-item">{{item.age}}å² {{item.gender}}</text>
          <text class="detail-item">{{item.room}}æˆ¿{{item.bed}}åºŠ</text>
        </view>
        
        <view class="patient-diagnosis">
          <text class="diagnosis-text">{{item.diagnosis}}</text>
        </view>
        
        <view class="patient-meta">
          <text class="admission-date">å…¥é™¢: {{item.admissionDate}}</text>
          <text class="hospital-days">ä½é™¢{{item.hospitalDays}}å¤©</text>
        </view>
      </view>
      
      <view class="patient-actions">
        <view class="action-btn" catchtap="onQuickCheck" data-id="{{item.id}}">
          <text class="iconfont icon-check"></text>
          <text class="action-text">æ£€æŸ¥</text>
        </view>
        <view class="action-btn" catchtap="onViewDetail" data-id="{{item.id}}">
          <text class="iconfont icon-arrow"></text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{filteredPatients.length === 0}}">
    <text class="empty-icon">ğŸ‘¥</text>
    <text class="empty-text">æš‚æ— ç—…äººä¿¡æ¯</text>
  </view>

  <!-- æµ®åŠ¨æ·»åŠ æŒ‰é’® -->
  <view class="fab" bindtap="onAddPatient">
    <text class="iconfont icon-plus"></text>
  </view>
</view> 