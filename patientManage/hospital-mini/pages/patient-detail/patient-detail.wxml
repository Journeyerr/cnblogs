<view class="container">
  <!-- ç—…äººåŸºæœ¬ä¿¡æ¯ -->
  <view class="patient-header">
    <view class="patient-avatar">
      <text class="avatar-text">{{patient.name[0]}}</text>
    </view>
    <view class="patient-basic">
      <text class="patient-name">{{patient.name}}</text>
      <text class="patient-info">{{patient.age}}å² {{patient.gender}} | {{patient.room}}æˆ¿{{patient.bed}}åºŠ</text>
      <view class="patient-status tag-{{patient.status === 'ä½é™¢ä¸­' ? 'primary' : 'success'}}">
        {{patient.status}}
      </view>
    </view>
  </view>

  <!-- å¿«é€Ÿæ“ä½œ -->
  <view class="quick-actions">
    <view class="action-btn" bindtap="onQuickAction" data-action="check">
      <text class="action-icon">ğŸ“Š</text>
      <text class="action-text">æ£€æŸ¥è®°å½•</text>
    </view>
    <view class="action-btn" bindtap="onQuickAction" data-action="medicine">
      <text class="action-icon">ğŸ’Š</text>
      <text class="action-text">ç”¨è¯è®°å½•</text>
    </view>
    <view class="action-btn" bindtap="onQuickAction" data-action="care">
      <text class="action-icon">ğŸ¥</text>
      <text class="action-text">æŠ¤ç†è®°å½•</text>
    </view>
    <view class="action-btn" bindtap="onQuickAction" data-action="feedback">
      <text class="action-icon">ğŸ’¬</text>
      <text class="action-text">ç—…äººåé¦ˆ</text>
    </view>
  </view>

  <!-- æœ€æ–°æ£€æŸ¥æŒ‡æ ‡ -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">æœ€æ–°æ£€æŸ¥æŒ‡æ ‡</text>
      <text class="section-more" bindtap="onViewAllChecks">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    <view class="check-grid">
      <view class="check-item">
        <text class="check-label">ä½“æ¸©</text>
        <text class="check-value {{patient.latestCheck.temperature > 37.5 ? 'warning' : ''}}">
          {{patient.latestCheck.temperature}}Â°C
        </text>
      </view>
      <view class="check-item">
        <text class="check-label">è¡€å‹</text>
        <text class="check-value">{{patient.latestCheck.bloodPressure}}</text>
      </view>
      <view class="check-item">
        <text class="check-label">å¿ƒç‡</text>
        <text class="check-value">{{patient.latestCheck.heartRate}}æ¬¡/åˆ†</text>
      </view>
      <view class="check-item">
        <text class="check-label">è¡€ç³–</text>
        <text class="check-value {{patient.latestCheck.bloodSugar > 6.1 ? 'warning' : ''}}">
          {{patient.latestCheck.bloodSugar}}mmol/L
        </text>
      </view>
    </view>
  </view>

  <!-- ä½é™¢ä¿¡æ¯ -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">ä½é™¢ä¿¡æ¯</text>
    </view>
    <view class="info-list">
      <view class="info-item">
        <text class="info-label">å…¥é™¢æ—¥æœŸ</text>
        <text class="info-value">{{patient.admissionDate}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">ä½é™¢å¤©æ•°</text>
        <text class="info-value">{{patient.hospitalDays}}å¤©</text>
      </view>
      <view class="info-item">
        <text class="info-label">è¯Šæ–­</text>
        <text class="info-value">{{patient.diagnosis}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">ä¸»æ²»åŒ»ç”Ÿ</text>
        <text class="info-value">å¼ åŒ»ç”Ÿ</text>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘è®°å½• -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘è®°å½•</text>
      <text class="section-more" bindtap="onViewAllRecords">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    <view class="record-list">
      <view class="record-item" wx:for="{{recentRecords}}" wx:key="id">
        <view class="record-icon">
          <text class="icon-text">{{item.icon}}</text>
        </view>
        <view class="record-content">
          <text class="record-title">{{item.title}}</text>
          <text class="record-time">{{item.time}}</text>
        </view>
        <view class="record-status tag-{{item.status}}">
          {{item.statusText}}
        </view>
      </view>
    </view>
  </view>

  <!-- ç—…äººåé¦ˆ -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">ç—…äººåé¦ˆ</text>
      <text class="section-more" bindtap="onViewAllFeedbacks">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    <view class="feedback-list">
      <view class="feedback-item" wx:for="{{recentFeedbacks}}" wx:key="id">
        <view class="feedback-content">
          <text class="feedback-text">{{item.content}}</text>
          <text class="feedback-time">{{item.time}}</text>
        </view>
        <view class="feedback-status tag-{{item.status}}">
          {{item.statusText}}
        </view>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="btn-secondary" bindtap="onDischarge">åŠç†å‡ºé™¢</button>
    <button class="btn-primary" bindtap="onAddRecord">æ·»åŠ è®°å½•</button>
  </view>
</view> 